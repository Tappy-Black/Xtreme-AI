const _0x226a02=_0x3516;(function(_0x4f02d8,_0x2f23c4){const _0xbf36f6=_0x3516,_0xba1ae1=_0x4f02d8();while(!![]){try{const _0x3c3178=parseInt(_0xbf36f6(0x22e))/0x1*(parseInt(_0xbf36f6(0x214))/0x2)+parseInt(_0xbf36f6(0x213))/0x3+-parseInt(_0xbf36f6(0x22a))/0x4+-parseInt(_0xbf36f6(0x1df))/0x5+-parseInt(_0xbf36f6(0x21e))/0x6+-parseInt(_0xbf36f6(0x1ec))/0x7+parseInt(_0xbf36f6(0x1fe))/0x8*(parseInt(_0xbf36f6(0x201))/0x9);if(_0x3c3178===_0x2f23c4)break;else _0xba1ae1['push'](_0xba1ae1['shift']());}catch(_0x34d03e){_0xba1ae1['push'](_0xba1ae1['shift']());}}}(_0x31a8,0xcde11));import _0x33f8e1 from'fs';import _0x50ec82 from'../../config.cjs';import _0x596a57 from'@whiskeysockets/baileys';const {proto,downloadContentFromMessage}=_0x596a57,prefix=_0x50ec82[_0x226a02(0x1f5)],antiDeleteGlobal=_0x50ec82[_0x226a02(0x1ea)],demonContext={'forwardingScore':0x3e7,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x226a02(0x21f),'newsletterName':_0x226a02(0x22d),'serverMessageId':0x8f}};class DemonAntiDelete{constructor(){const _0x24d592=_0x226a02;this[_0x24d592(0x231)]=![],this[_0x24d592(0x1f0)]=new Map(),this['cacheExpiry']=0x493e0,this[_0x24d592(0x20d)]=setInterval(()=>this[_0x24d592(0x21c)](),this[_0x24d592(0x208)]);}[_0x226a02(0x21c)](){const _0x58b837=_0x226a02,_0x267a56=Date['now']();for(const [_0x5eb0b9,_0x3da0e2]of this[_0x58b837(0x1f0)]['entries']()){_0x267a56-_0x3da0e2['timestamp']>this['cacheExpiry']&&this[_0x58b837(0x1f0)][_0x58b837(0x229)](_0x5eb0b9);}}[_0x226a02(0x211)](_0x2ba7b1){const _0x20ba37=_0x226a02,_0x1ba194={'timeZone':_0x20ba37(0x1ef),'year':_0x20ba37(0x1ff),'month':_0x20ba37(0x20e),'day':'numeric','hour':_0x20ba37(0x233),'minute':_0x20ba37(0x233),'second':'2-digit','hour12':!![]};return new Date(_0x2ba7b1)[_0x20ba37(0x1da)](_0x20ba37(0x215),_0x1ba194)+_0x20ba37(0x20b);}}const demonDelete=new DemonAntiDelete();function _0x3516(_0x5bedfa,_0x1ccf13){const _0x31a8cc=_0x31a8();return _0x3516=function(_0x3516de,_0x5f0dd0){_0x3516de=_0x3516de-0x1d9;let _0x29ea90=_0x31a8cc[_0x3516de];return _0x29ea90;},_0x3516(_0x5bedfa,_0x1ccf13);}let statusData={};_0x33f8e1[_0x226a02(0x227)]('./demon_antidelete.json')&&(statusData=JSON[_0x226a02(0x234)](_0x33f8e1[_0x226a02(0x1de)](_0x226a02(0x217))));!statusData[_0x226a02(0x225)]&&(statusData[_0x226a02(0x225)]={});function _0x31a8(){const _0x3642b1=['caption','chatJid','media','━━━━━━━━━━━━━━━\x0a','antidelete\x20off','ANTI_DELETE','🕰️\x20*Deleted\x20At:*\x20','149590nJksOD','⚔️\x20*Recovered\x20Deleted\x20','⛔\x20*xᴛʀᴇᴍᴇ-ᴛᴇᴄʜ_x\x20ᴀɴᴛɪᴅᴇʟᴇᴛᴇ\x20ᴀᴄᴛɪᴠᴀᴛᴇᴅ!*\x0a\x0a•\x20Status:\x20✅\x20Enabled\x0a•\x20Cache:\x20🕒\x205\x20minutes\x0a•\x20Mode:\x20🌐\x20Global\x0a\x0a_Deleted\x20messages\x20will\x20now\x20rise\x20from\x20the\x20shadows_\x0a\x0a━━━━━━⊱✿⊰━━━━━━\x0aᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ʙʟᴀᴄᴋ-ᴛᴀᴘᴘʏ','Asia/Karachi','messageCache','status','antidelete\x20on','subject','concat','PREFIX','content','message','get','audioMessage','from','fromMe','clear','participant','26504inFQrY','numeric','Message','2853NnadKd','type','image','remoteJid','WebMessageInfo','🏰\x20*Location:*\x20','messages.upsert','cacheExpiry','slice','ᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ʙʟᴀᴄᴋ-ᴛᴀᴘᴘʏ','\x20(PKT)','replace','cleanupInterval','short','now','REVOKE','formatTime','⏰\x20*Sent\x20At:*\x20','7401rHpnkk','2dueQKb','en-PK','isGroup','./demon_antidelete.json','\x20(Group)','voice','status@broadcast','toUpperCase','cleanExpiredMessages','length','3799884KCWEfv','120363369453603973@newsletter','🗑️','messages.update','messageStubType','👤\x20*Sender:*\x20','body','chats','ptt','existsSync','audio','delete','426356ROCsqE','Unknown\x20Chat','Unknown','𝕏Ե®em£~Ե𝖊𝖈𝖍_𝕏','743230xyIppm','key','*\x0a\x0a','enabled','documentMessage','2-digit','parse','mimetype','off','sendMessage','Status','toLocaleString','imageMessage','toLowerCase','stringify','readFileSync','956820ayvDYS','timestamp','DELETED','\x0a\x0a📜\x20*Recovered\x20Content:*\x20\x0a','StubType','🗡️\x20*Deleted\x20By:*\x20'];_0x31a8=function(){return _0x3642b1;};return _0x31a8();}antiDeleteGlobal&&(demonDelete['enabled']=!![]);const AntiDelete=async(_0x184ce1,_0x527b0b)=>{const _0x1fd935=_0x226a02,_0x3b71ef=_0x184ce1[_0x1fd935(0x1fa)],_0x50c80a=async _0x5e4df5=>{const _0x2fec5c=_0x1fd935;if(!_0x5e4df5)return{'name':_0x2fec5c(0x22b),'isGroup':![]};if(_0x5e4df5['includes']('@g.us'))try{const _0x1d4e6e=await _0x527b0b['groupMetadata'](_0x5e4df5);return{'name':_0x1d4e6e?.[_0x2fec5c(0x1f3)]||'Demon\x20Nest','isGroup':!![]};}catch{return{'name':'Demon\x20Nest','isGroup':!![]};}return{'name':'Private\x20Mission','isGroup':![]};};if(_0x184ce1[_0x1fd935(0x224)][_0x1fd935(0x1dc)]()===prefix+_0x1fd935(0x1f2)||_0x184ce1[_0x1fd935(0x224)][_0x1fd935(0x1dc)]()===prefix+_0x1fd935(0x1e9)){const _0x1ce8b6={'on':{'text':_0x1fd935(0x1ee),'contextInfo':demonContext},'off':{'text':'⛔\x20*xᴛʀᴇᴍᴇ-ᴛᴇᴄʜ_x\x20ᴀɴᴛɪᴅᴇʟᴇᴛᴇ\x20ᴅᴇᴀᴄᴛɪᴠᴀᴛᴇᴅ!*\x0a\x0a•\x20Status:\x20❌\x20Disabled\x0a\x0a_Message\x20recovery\x20disabled_\x0a\x0a━━━━━━⊱✿⊰━━━━━━\x0aᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ʙʟᴀᴄᴋ-ᴛᴀᴘᴘʏ','contextInfo':demonContext}};_0x184ce1[_0x1fd935(0x224)][_0x1fd935(0x1dc)]()===prefix+_0x1fd935(0x1f2)?(statusData[_0x1fd935(0x225)][_0x3b71ef]=!![],_0x33f8e1['writeFileSync'](_0x1fd935(0x217),JSON[_0x1fd935(0x1dd)](statusData,null,0x2)),demonDelete[_0x1fd935(0x231)]=!![],await _0x527b0b['sendMessage'](_0x184ce1[_0x1fd935(0x1fa)],_0x1ce8b6['on'],{'quoted':_0x184ce1})):(statusData[_0x1fd935(0x225)][_0x3b71ef]=![],_0x33f8e1['writeFileSync'](_0x1fd935(0x217),JSON[_0x1fd935(0x1dd)](statusData,null,0x2)),demonDelete[_0x1fd935(0x231)]=![],demonDelete[_0x1fd935(0x1f0)][_0x1fd935(0x1fc)](),await _0x527b0b['sendMessage'](_0x184ce1[_0x1fd935(0x1fa)],_0x1ce8b6[_0x1fd935(0x236)],{'quoted':_0x184ce1}));await _0x527b0b['sendReaction'](_0x184ce1[_0x1fd935(0x1fa)],_0x184ce1[_0x1fd935(0x22f)],_0x1fd935(0x220));return;}_0x527b0b['ev']['on'](_0x1fd935(0x207),async({messages:_0x5e2fd6})=>{const _0x29fc46=_0x1fd935;if(!antiDeleteGlobal&&!demonDelete['enabled'])return;if(!_0x5e2fd6?.[_0x29fc46(0x21d)])return;for(const _0x464fb9 of _0x5e2fd6){if(_0x464fb9[_0x29fc46(0x22f)][_0x29fc46(0x1fb)]||!_0x464fb9[_0x29fc46(0x1f7)]||_0x464fb9['key'][_0x29fc46(0x204)]===_0x29fc46(0x21a))continue;try{const _0xff40e2=_0x464fb9[_0x29fc46(0x1f7)]['conversation']||_0x464fb9[_0x29fc46(0x1f7)]['extendedTextMessage']?.['text']||_0x464fb9[_0x29fc46(0x1f7)][_0x29fc46(0x1db)]?.[_0x29fc46(0x1e5)]||_0x464fb9[_0x29fc46(0x1f7)]['videoMessage']?.[_0x29fc46(0x1e5)]||_0x464fb9[_0x29fc46(0x1f7)][_0x29fc46(0x232)]?.[_0x29fc46(0x1e5)];let _0x2ca334,_0x5bf4ee,_0x3f29c7;const _0x114bb7=[_0x29fc46(0x203),'video',_0x29fc46(0x228),'sticker','document'];for(const _0x15e19d of _0x114bb7){if(_0x464fb9[_0x29fc46(0x1f7)][_0x15e19d+_0x29fc46(0x200)]){const _0x4c88fd=_0x464fb9['message'][_0x15e19d+_0x29fc46(0x200)];try{const _0x545c83=await downloadContentFromMessage(_0x4c88fd,_0x15e19d);let _0x21db4=Buffer[_0x29fc46(0x1fa)]([]);for await(const _0x216579 of _0x545c83)_0x21db4=Buffer[_0x29fc46(0x1f4)]([_0x21db4,_0x216579]);_0x2ca334=_0x21db4,_0x5bf4ee=_0x15e19d,_0x3f29c7=_0x4c88fd[_0x29fc46(0x235)];break;}catch{}}}if(_0x464fb9[_0x29fc46(0x1f7)][_0x29fc46(0x1f9)]?.[_0x29fc46(0x226)])try{const _0x524b42=await downloadContentFromMessage(_0x464fb9[_0x29fc46(0x1f7)]['audioMessage'],_0x29fc46(0x228));let _0x4f9816=Buffer['from']([]);for await(const _0x47c2a4 of _0x524b42)_0x4f9816=Buffer[_0x29fc46(0x1f4)]([_0x4f9816,_0x47c2a4]);_0x2ca334=_0x4f9816,_0x5bf4ee=_0x29fc46(0x219),_0x3f29c7=_0x464fb9[_0x29fc46(0x1f7)]['audioMessage'][_0x29fc46(0x235)];}catch{}(_0xff40e2||_0x2ca334)&&demonDelete[_0x29fc46(0x1f0)]['set'](_0x464fb9[_0x29fc46(0x22f)]['id'],{'content':_0xff40e2,'media':_0x2ca334,'type':_0x5bf4ee,'mimetype':_0x3f29c7,'sender':_0x464fb9['key'][_0x29fc46(0x1fd)]||_0x464fb9[_0x29fc46(0x22f)]['remoteJid'],'senderFormatted':'@'+(_0x464fb9[_0x29fc46(0x22f)][_0x29fc46(0x1fd)]||_0x464fb9[_0x29fc46(0x22f)][_0x29fc46(0x204)]?(_0x464fb9[_0x29fc46(0x22f)]['participant']||_0x464fb9[_0x29fc46(0x22f)][_0x29fc46(0x204)])[_0x29fc46(0x20c)](/@s\.whatsapp\.net|@g\.us/g,''):_0x29fc46(0x22c)),'timestamp':Date[_0x29fc46(0x20f)](),'chatJid':_0x464fb9['key'][_0x29fc46(0x204)]});}catch{}}}),_0x527b0b['ev']['on'](_0x1fd935(0x221),async _0xce1b48=>{const _0xc6106e=_0x1fd935;if(!antiDeleteGlobal&&!demonDelete[_0xc6106e(0x231)])return;if(!_0xce1b48?.[_0xc6106e(0x21d)])return;for(const _0x18a351 of _0xce1b48){try{const {key:_0x18ebb0,update:_0x40940c}=_0x18a351,_0x173a59=_0x40940c?.[_0xc6106e(0x222)]===proto[_0xc6106e(0x205)][_0xc6106e(0x1e3)][_0xc6106e(0x210)]||_0x40940c?.[_0xc6106e(0x1f1)]===proto[_0xc6106e(0x205)][_0xc6106e(0x1d9)][_0xc6106e(0x1e1)];if(!_0x173a59||_0x18ebb0['fromMe']||!demonDelete[_0xc6106e(0x1f0)]['has'](_0x18ebb0['id']))continue;const _0x5f4a3e=demonDelete[_0xc6106e(0x1f0)][_0xc6106e(0x1f8)](_0x18ebb0['id']);demonDelete[_0xc6106e(0x1f0)][_0xc6106e(0x229)](_0x18ebb0['id']);const _0x20c9cf=await _0x50c80a(_0x5f4a3e[_0xc6106e(0x1e6)]),_0x169783=_0x40940c?.['participant']?'@'+(_0x40940c['participant']?_0x40940c[_0xc6106e(0x1fd)][_0xc6106e(0x20c)](/@s\.whatsapp\.net|@g\.us/g,''):'Unknown'):_0x18ebb0[_0xc6106e(0x1fd)]?'@'+(_0x18ebb0[_0xc6106e(0x1fd)]?_0x18ebb0[_0xc6106e(0x1fd)][_0xc6106e(0x20c)](/@s\.whatsapp\.net|@g\.us/g,''):_0xc6106e(0x22c)):'Unknown\x20Demon',_0x2bb1db=_0x5f4a3e[_0xc6106e(0x202)]?_0x5f4a3e['type']['charAt'](0x0)[_0xc6106e(0x21b)]()+_0x5f4a3e['type'][_0xc6106e(0x209)](0x1):'Message',_0x4f2690=_0xc6106e(0x1ed)+_0x2bb1db+_0xc6106e(0x230)+(_0xc6106e(0x223)+_0x5f4a3e['senderFormatted']+'\x0a')+(_0xc6106e(0x1e4)+_0x169783+'\x0a')+(_0xc6106e(0x206)+_0x20c9cf['name']+(_0x20c9cf[_0xc6106e(0x216)]?_0xc6106e(0x218):'')+'\x0a')+(_0xc6106e(0x212)+demonDelete[_0xc6106e(0x211)](_0x5f4a3e[_0xc6106e(0x1e0)])+'\x0a')+(_0xc6106e(0x1eb)+demonDelete[_0xc6106e(0x211)](Date[_0xc6106e(0x20f)]())+'\x0a\x0a')+_0xc6106e(0x1e8)+_0xc6106e(0x20a);if(_0x5f4a3e[_0xc6106e(0x1e7)])await _0x527b0b['sendMessage'](_0x5f4a3e[_0xc6106e(0x1e6)],{[_0x5f4a3e['type']]:_0x5f4a3e[_0xc6106e(0x1e7)],'mimetype':_0x5f4a3e[_0xc6106e(0x235)],'caption':_0x4f2690,'contextInfo':demonContext});else _0x5f4a3e[_0xc6106e(0x1f6)]&&await _0x527b0b[_0xc6106e(0x237)](_0x5f4a3e['chatJid'],{'text':_0x4f2690+_0xc6106e(0x1e2)+_0x5f4a3e[_0xc6106e(0x1f6)],'contextInfo':demonContext});}catch{}}});};export default AntiDelete;